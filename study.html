<html>
<head>
  <meta charset="UTF-8">
  <title>InterAxis</title>

  <script src='lib/d3.v3.js'></script>
  <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
  <script src="https://d3js.org/d3-color.v1.min.js"></script>
  <script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <script src="https://d3js.org/d3-scale.v1.min.js"></script>
  <script src="lib/jquery-2.1.3.min.js"></script>
  <script src="lib/jquery.qtip.min.js"></script>
  <script src="lib/numeric-1.2.6.min.js"></script>
  <script src="lib/bootstrap.min.js"></script>
  <script src="lib/le.min.js"></script>
  <script src="lib/ial.js"></script>
  <link rel="stylesheet" href="lib/bootstrap.min.css">
  
  <script src='js/persistent.js'></script>

  <script src='js/scatter-plot.js'></script>
  <script src='js/axis.js'></script>
  <script src='js/para-coord.js'></script>
  <script src='js/main_bball.js'></script>
  <link rel="stylesheet" type="text/css" href="css/my-stylesheet.css">   
  <link rel="stylesheet" type="text/css" href="css/jquery.qtip.min.css"> 


</head>

<body onload="init()"> <!-- init() method defined in main.js -->
  <div id="dialog" title="Basic dialog">
    <h3>Select the initial X and Y dimensions for the scatterplot view in the user study.</h3>
    <br><br>
  	<h5>Select Initial X Dimension:
	<select id="initX">
		<option value="a3pa">Avg. 3-Pointers Att.</option>
		<option value="a3pm">Avg. 3-Pointers Made</option>
		<option value="aa">Avg. Assists</option>
		<option value="ab">Avg. Blocks</option>
		<option value="afga">Avg. Field Goals Att.</option>
		<option value="afgm">Avg. Field Goals Made</option>
		<option value="afta">Avg. Free Throws Att.</option>
		<option value="aftm">Avg. Free Throws Made</option>
		<option value="am">Avg. Minutes</option>
		<option value="apf">Avg. Personal Fouls</option>
		<option value="ap">Avg. Points</option>
		<option value="aor">Avg. Offensive Rebounds</option>
		<option value="as">Avg. Steals</option>
		<option value="atr">Avg. Total Rebounds</option>
		<option value="ato">Avg. Turnovers</option>
		<option value="games" selected="selected">Games Played</option>
		<option value="height">Height (Inches)</option>
		<option value="weight">Weight (Pounds)</option>
	</select>
	<br><br>
	Select Initial Y Dimension:
	<select id="initY">
		<option value="a3pa">Avg. 3-Pointers Att.</option>
		<option value="a3pm">Avg. 3-Pointers Made</option>
		<option value="aa">Avg. Assists</option>
		<option value="ab">Avg. Blocks</option>
		<option value="afga">Avg. Field Goals Att.</option>
		<option value="afgm">Avg. Field Goals Made</option>
		<option value="afta">Avg. Free Throws Att.</option>
		<option value="aftm">Avg. Free Throws Made</option>
		<option value="am" selected="selected">Avg. Minutes</option>
		<option value="apf">Avg. Personal Fouls</option>
		<option value="ap">Avg. Points</option>
		<option value="aor">Avg. Offensive Rebounds</option>
		<option value="as">Avg. Steals</option>
		<option value="atr">Avg. Total Rebounds</option>
		<option value="ato">Avg. Turnovers</option>
		<option value="games">Games Played</option>
		<option value="height">Height (Inches)</option>
		<option value="weight">Weight (Pounds)</option>
	</select>
	</h5>
	<br><br>
	<h4>Click <span class="studyBlue">Continue</span> below to proceed.</h4>
	<input name="doneButton" type="button" value="Continue" id="doneButton" class="studyNav"/>
  </div>

  <div class="row" id="area1" style="overflow:hidden;">

    <div class="col-md-8" id="scplot">
      <div id="btnXc" style="position: absolute">
          <input name="updateButton" 
                 type="button" 
                 value="Clear Bins" 
                 onclick="clearDropzone(&quot;X&quot;)" />
      </div>
      <div style="text-align: center; word-wrap: break-word;">
      	  <img id="helpButton" src="img/help.png" style="width: 20px; height: 20px; float: left;">
      </div>
	      <select id="cbY" name="cbY" onchange="updatebycb(&quot;Y&quot;,value);" style="position: absolute; width: 100px"></select>
	      <select id="cbX" onchange="updatebycb(&quot;X&quot;,value);" style="position: absolute; width: 175px"></select>
    </div>

    <div class="col-md-2" id="area3">
      <div id="datapanel" class="table" width="150"></div>
      </div>

    <div class="col-md-2" id="bias"></div>
  
  </div>
  <div class="row" id="area2">
    <!-- <div id="pcplot" class="chart"></div> -->
  </div>

  <script src="http://d3js.org/d3.v3.min.js"></script>

  <script>
    var width=100;
    var height=80;
    var svg= d3.select('#bias')
          .append("svg")
          .attr("width",width)        
          .attr("height",height)
          .attr("padding",5)


    var rand = d3.random.normal (50,50)

    var dataset=[]

    for(var i=0; i<100;i++) {
      dataset.push(rand());
    }

    console.log(dataset);

    var binNum=10,
      rangeMin=0,
      rangeMax=100;

    var histogram=d3.layout.histogram()
            .range([rangeMin,rangeMax])
            .bins(binNum)
            .frequency(true);

    var hisData=histogram(dataset);

    console.log(hisData);

    var xAxisWidth=100;
      xTicks=hisData.map(function(d){return d.x});

    var xScale=d3.scale.ordinal()
              .domain(xTicks)
              .rangeRoundBands([0,xAxisWidth],0.1);
    var yAxisWidth=30;

    var yScale= d3.scale.linear()
          .domain([ d3.min(hisData, function(d){ return d.y; }),
                d3.max(hisData, function(d){ return d.y; }) ])
            .range([5,yAxisWidth]);

    var padding = { top: 30 , right: 30, bottom: 30, left: 30 };

    var xAxis = d3.svg.axis()
            .scale(xScale)
            .orient("bottom")
            .tickFormat(d3.format(".0f"));

    svg.append("g")
      .attr("class","axis")
      .attr("transform","translate("+padding.left+","+(height-padding.bottom)+")")
      .call(xAxis);


  console.log(xScale.range());
  console.log(xScale.rangeBand());
  console.log(xScale(70));
  console.log(xScale(94));
  
    var lineGenerator = d3.svg.line()
              .x(function(d){ return xScale(d.x); })
              .y(function(d){ return height - yScale(d.y); })
              .interpolate("basis");
  
    var gLine = svg.append("g")
          .attr("transform","translate(" + padding.left + "," + ( -padding.bottom ) +  ")")
          .style("opacity",1.0);
  
    gLine.append("path")
    .attr("class","linePath")
    .attr("d",lineGenerator(hisData));
      
  </script>
  
</body>
</html>